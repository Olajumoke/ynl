{% extends 'ynladmin/adminHome.html' %}
{% load staticfiles %}


{% block add_event %}
<h4 class="pull-right"  style="cursor: pointer; color: #03a9f3;" id="add_event"><i class="fa fa-plus">ADD EVENT</i></h4>
{% endblock add_event %}

{% block events_won %}
{% endblock events_won %}

{% block transactions %}

	
<div class="col-md-12 view-events">
<div class="row">
    <div class="col-md-12">
        <div class="white-box">
            <h3 style="margin:15px 0px 5px 0px;">

                {% for msg in messages %}
                    <script>
                        function show_alert(){
                        var alert = '<p style="color:red;" class="text-{{ msg.tags }} bg-{{ msg.tags }}">{{ msg }}</p>';
                        document.write(alert);
                        }
                        display = window.setTimeout(show_alert(), 1000);
                        window.clearTimeout(display);
                    </script>
                {% endfor %}
            </h3>
            <h3 class="box-title">Event Manager</h3>
            <div class="table-responsive">
                <table border="0" class="table table-striped" >
                    <thead>
                        <tr>
                            <th>Event ID</th>
                            <th>Author</th>
                            <th>Category</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Closed</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    
                    <tbody>
                    {% for event in all_events %}
                        <tr>
                            <td>{{event.tracking_number}}</td>
                            <td>{{event.author}}</td>
                            <td>{{event.category}}</td>
                            <td>{{event.start_time}}</td>
                            <td>{{event.end_time}}</td>
                            <td>{{event.closed}}</td>
                            <td>
                                <span><a class="edit_event" event_track_num="{{event.tracking_number}}"><i class="fa fa-pencil"  
                                style="cursor: pointer;"></i></a>
                                </span>&nbsp;&nbsp;
                                <span><a style="cursor: pointer;" href="{% url 'ynladmin:delete_event' event.id %}" onclick="return confirm('Are you sure you want to delete this event?')"><i class="fa fa-trash"></i></a>
                                </span>
                            </td>
                        </tr>
                    {% empty %}
                        <p>No Event</p>
                    {% endfor %}  
                    </tbody>
                    
                </table>

                <div class="pagination" style="position:relative; font-size:20px; margin:0px; left:500px;">
                <span class="step-links">
                    {% if all_events.has_previous %}
                        <a style="font-size:20px;" href="?page={{ all_events.previous_page_number }}">&laquo;</a>
                    {% else %}
                        <a style="font-size:20px;" class="hidden" >&laquo;</a>

                    {% endif %}

                    <span style="font-size:20px;" class="current">
                        Page {{ all_events.number }} of {{ all_events.paginator.num_pages }}.
                    </span>

                    {% if all_events.has_next %}
                        <a style="font-size:20px;" href="?page={{ all_events.next_page_number }}">&raquo;</a>
                    {% else %}
                        <a style="font-size:20px;" class="hidden">&raquo;</a>

                    {% endif %}
                </span>
            </div>
            </div>
        </div>
    </div>
</div>
</div>
	
{% endblock transactions %}


